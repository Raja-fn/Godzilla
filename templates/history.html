{% extends 'base.html' %}
{% block content %}
<h1>History</h1>

<h3>Daily Logs</h3>
{% if logs %}
  <table class="table table-striped">
    <thead><tr><th>Date</th><th>Stress</th><th>Sleep</th><th>Energy</th><th>Missed</th></tr></thead>
    <tbody>
      {% for l in logs %}
        <tr>
          <td>{{ l.date }}</td>
          <td>{{ l.stress_level }}</td>
          <td>{{ l.sleep_hours }}</td>
          <td>{{ l.energy_level }}</td>
          <td>{{ 'Yes' if l.missed_workout else 'No' }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% else %}
  <p>No logs available.</p>
{% endif %}

<h3>Agent Decisions</h3>
{% if decisions %}
  <table class="table table-bordered">
    <thead><tr><th>Date</th><th>Goal</th><th>Wellness</th><th>Plan</th></tr></thead>
    <tbody>
      {% for d in decisions %}
        <tr>
          <td>{{ d.date }}</td>
          <td>{{ d.goal_status }}</td>
          <td>{{ d.wellness_state }}</td>
          <td>{{ d.final_plan }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% else %}
  <p>No decisions recorded.</p>
{% endif %}

{% endblock %}
